var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,s=Object.prototype.propertyIsEnumerable,l=(t,a,s)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s,i=(e,i)=>{for(var c in i||(i={}))t.call(i,c)&&l(e,c,i[c]);if(a)for(var c of a(i))s.call(i,c)&&l(e,c,i[c]);return e};import{l as c,c as r,o as n,a as o,b as u,u as d,r as m,h as v,d as h,w as y,T as p,e as f,t as w,f as x,g as b,F as g,i as k,j as O}from"./vendor.7a73cc83.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(a){const s=new URL(e,location),l=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((a,i)=>{const c=new URL(e,s);if(self[t].moduleMap[c])return a(self[t].moduleMap[c]);const r=new Blob([`import * as m from '${c}';`,`${t}.moduleMap['${c}']=m;`],{type:"text/javascript"}),n=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(r),onerror(){i(new Error(`Failed to import: ${e}`)),l(n)},onload(){a(self[t].moduleMap[c]),l(n)}});document.head.appendChild(n)})),self[t].moduleMap={}}}("/weather-box/assets/");const j=(e={})=>{e.Authorization="CWB-0947CD3A-BF8B-4B9E-90F1-981CF1C1E66F";return((e="")=>fetch(`https://opendata.cwb.gov.tw/api${e}`))(`/v1/rest/datastore/F-D0047-091${c.stringify(e,{addQueryPrefix:!0})}`).then((e=>e.json()))},C={PoP12h:"12小時降雨機率",T:"平均溫度",Wx:"天氣現象",MinT:"最低溫度",UVI:"紫外線指數",WeatherDescription:"天氣預報綜合描述",MaxT:"最高溫度"},M=r({state:()=>({weathers:[],citys:[],currentCity:""}),mutations:{setWeathers(e,t){e.weathers=t},setCitys(e,t){e.citys=t}},actions:{async getWeather({commit:e}){const{records:t}=await j(),a=t.locations[0].location.map((e=>{var t,a,s,l,c,r;return i({city:e.locationName,weeks:null==(c=null==(l=null==(s=null==(a=null==(t=e.weatherElement)?void 0:t.find((e=>"Wx"===e.elementName)))?void 0:a.time)?void 0:s.filter(((e,t)=>!(t%2))))?void 0:l.slice(0,7))?void 0:c.map((({elementValue:e})=>e[0].value))},null==(r=e.weatherElement)?void 0:r.reduce(((e,t)=>(Object.keys(C).includes(t.elementName)&&(e[t.elementName]={value:t.time[0].elementValue[0].value,description:t.description}),e)),{}))}));console.table(a),e("setCitys",a)}},getters:{cityList:e=>e.citys.reduce(((e,{city:t})=>[...e,t]),[])}}),U={class:"raincloud",viewBox:"-50 -50 100 100"},E=u("g",{class:"cloud"},[u("circle",{cx:"10",cy:"3",r:"15"}),u("circle",{cx:"0",cy:"0",r:"15"}),u("rect",{x:"-20",y:"-2",width:"50",height:"20",rx:"10"})],-1),F=u("rect",{class:"rain",x:"-25",y:"8",width:"4",height:"13"},null,-1),L=u("rect",{class:"rain rain2",x:"-5",y:"10",width:"4",height:"13"},null,-1),W=u("rect",{class:"rain rain3",x:"10",y:"6",width:"4",height:"13"},null,-1);const B={render:function(e,t){return n(),o("svg",U,[E,F,L,W])}},T={viewBox:"-50 -50 100 100"},P=u("circle",{class:"sun",cx:"0",cy:"0",r:"28"},null,-1);const R={render:function(e,t,a,s,l,i){return n(),o("svg",T,[P])}},D={class:"suncloud",viewBox:"-50 -50 100 100"},N=u("circle",{class:"sun",cx:"0",cy:"0",r:"20"},null,-1),$=u("g",{class:"cloud"},[u("circle",{class:"cloud-left",cx:"10",cy:"3",r:"15"}),u("circle",{class:"cloud-left",cx:"0",cy:"0",r:"15"}),u("rect",{class:"cloud-left",x:"-20",y:"-2",width:"50",height:"20",rx:"10"}),u("circle",{class:"cloud-right",cx:"10",cy:"3",r:"15"}),u("circle",{class:"cloud-right",cx:"0",cy:"0",r:"15"}),u("rect",{class:"cloud-right",x:"-20",y:"-2",width:"50",height:"20",rx:"10"})],-1);const _={render:function(e,t){return n(),o("svg",D,[N,$])}};const Y={class:"weather-box"},A={class:"weather-box-main"},H={class:"main-info"},I={class:"main-info-detials"},S={class:"main-info-detials-subtitle"},V={class:"main-info-detials-label"},z={class:"main-info-temp"},Q={class:"weather-box-footer"},q=u("div",{class:"weather-box-footer-tabs"},[u("div",{class:"weather-box-footer-tab"},"weathers")],-1),G={class:"weather-box-footer-row"},J={class:"weather-box-footer-daily"},K={class:"daily-title"},X={expose:[],setup(e){const t=[{key:"sun",name:"SUN"},{key:"mon",name:"MON"},{key:"tue",name:"TUE"},{key:"wed",name:"WED"},{key:"thu",name:"THU"},{key:"fri",name:"FRI"},{key:"sat",name:"SAT"}],a={"多雲時晴":_,"晴時多雲":_,"多雲時陰":_,"多雲":B},s=d(),l=m(20),c=m(v().format("YYYY/MM/DD HH:mm")),r=h((()=>s.state.citys)),O=h((()=>{var e;return null==(e=null==r?void 0:r.value)?void 0:e[l.value]}));console.log(O);const j=h((()=>t.map(((e,t)=>{var s,l;return i(i({},e),{desc:null==(s=null==O?void 0:O.value)?void 0:s.weeks[t],icon:a[null==(l=null==O?void 0:O.value)?void 0:l.weeks[t]]||R})}))));return y(j,(e=>console.log(e))),(e,t)=>{var a,s;return n(),o("div",Y,[u("div",A,[u("div",H,[u("div",I,[u(p,{name:"slide"},{default:f((()=>{var a;return[u("div",{class:"main-info-detials-title",onClick:t[1]||(t[1]=(...t)=>e.handleOpenList&&e.handleOpenList(...t))},w(null==(a=b(O))?void 0:a.city),1)]})),_:1}),u("div",S,w(c.value),1),(n(),o(x(_),{class:"main-info-detials-icon"})),u("div",V,w(null==(a=b(O))?void 0:a.Wx.value),1)]),u("div",z,w(null==(s=b(O))?void 0:s.T.value)+"°C",1)])]),u("div",Q,[q,u("div",G,[(n(!0),o(g,null,k(b(j),(({key:e,name:t,icon:a,desc:s})=>(n(),o("div",J,[u("div",K,w(t),1),(n(),o(x(a),{class:"icon"}))])))),256))])])])}}};const Z={class:"background"};O({expose:[],setup:e=>(M.dispatch("getWeather"),(e,t)=>(n(),o("div",Z,[u(X)])))}).use(M).mount("#app");
